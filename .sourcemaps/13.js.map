{"version":3,"sources":["../../src/pages/newuser/newuser.module.ts","../../src/pages/newuser/newuser.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACO;AACR;AAC6B;AACrB;AACe;AAmB/D;IAAA;IAAgC,CAAC;IAApB,iBAAiB;QAjB7B,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6DAAW;aACZ;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,6DAAW,CAAC;gBACnC,4EAAe,CAAC,QAAQ,CAAC;oBACrB,MAAM,EAAE;wBACJ,OAAO,EAAE,4EAAe;wBACxB,UAAU,EAAE,UAAC,IAAgB;4BACzB,MAAM,CAAC,IAAI,uFAAmB,CAAC,IAAI,EAAE,gBAAgB,EAAE,OAAO,CAAC,CAAC;wBACpE,CAAC;wBACD,IAAI,EAAE,CAAC,wEAAU,CAAC;qBACrB;iBACJ,CAAC;aACL;SACF,CAAC;OACW,iBAAiB,CAAG;IAAD,wBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBY;AACmD;AAC3C;AACQ;AAU1D;IAMI,qBAAmB,OAAsB,EACtB,SAAoB,EACpB,WAA8B,EAC9B,SAA0B,EACzB,MAAwB,EACxB,UAAgC;QALjC,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QACzB,WAAM,GAAN,MAAM,CAAkB;QACxB,eAAU,GAAV,UAAU,CAAsB;QATpD,SAAI,GAAG,EAAU,CAAC;QAClB,YAAO,GAAG,EAAa,CAAC;QACxB,QAAG,GAAG,EAAE,CAAC;IAST,CAAC;IACD,6BAAO,GAAP,UAAQ,KAAS;QAAjB,iBAUC;QATG,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9C,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;YAE9B,MAAM,CAAC,MAAM,GAAG,UAAC,KAAoB;gBACjC,KAAI,CAAC,GAAG,GAAgB,KAAK,CAAC,MAAO,CAAC,MAAM,CAAC;YACjD,CAAC,CAAC;YAEF,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAED,4BAA4B;IAC5B,0CAA0C;IAC1C,+CAA+C;IAC/C,0BAA0B;IAC1B,6BAA6B;IAC7B,UAAU;IACV,4BAA4B;IAC5B,wCAAwC;IACxC,IAAI;IAGE,8BAAQ,GAAd,UAAe,IAAS;;;;;;;wBAChB,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BAC9B,OAAO,EAAE,0BAA0B;4BACnC,QAAQ,EAAE,IAAI;yBACjB,CAAC,CAAC;wBACH,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;;;;wBAEF,qBAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,8BAA8B,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC;;wBAAzF,MAAM,GAAG,SAAgF;wBAC/F,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;wBACtB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,cAAI;4BACxC,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,cAAY,IAAI,CAAC,GAAG,MAAG,CAAC,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,CAAC;iCAC5D,IAAI,CAAC,cAAM,YAAI,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,EAAlC,CAAkC,CAAC,CAAC;wBACxD,CAAC,CAAC;;;;wBAIF,OAAO,CAAC,KAAK,CAAC,GAAC,CAAC,CAAC;;;;;;KAExB;IAvDQ,WAAW;QAJvB,gEAAS,CAAC;YACP,QAAQ,EAAE,cAAc;WACG;SAC9B,CAAC;6EAO2C;YACX,wEAAS;YACP,uEAAiB;YACnB,kEAAe;YAChB,0EAAe;YACX,QAAmB;OAX3C,WAAW,CAwDvB;IAAD,CAAC;AAAA;SAxDY,WAAW,e","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NewuserPage } from './newuser';\nimport {TranslateLoader, TranslateModule} from \"@ngx-translate/core\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {TranslateHttpLoader} from \"@ngx-translate/http-loader\";\n\n@NgModule({\n  declarations: [\n    NewuserPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NewuserPage),\n      TranslateModule.forChild({\n          loader: {\n              provide: TranslateLoader,\n              useFactory: (http: HttpClient) => {\n                  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n              },\n              deps: [HttpClient]\n          }\n      })\n  ],\n})\nexport class NewuserPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/newuser/newuser.module.ts","import { Component } from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams, ToastController} from 'ionic-angular';\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {Profile} from \"../../Models/profile\";\nimport {User} from \"../../Models/user\";\n\n\n@IonicPage()\n@Component({\n    selector: 'page-newuser',\n    templateUrl: 'newuser.html',\n})\nexport class NewuserPage {\n\n    user = {} as User;\n    profile = {} as Profile;\n    url = '';\n\n    constructor(public navCtrl: NavController,\n                public navParams: NavParams,\n                public loadingCtrl: LoadingController,\n                public toastCtrl: ToastController,\n                private afAuth : AngularFireAuth,\n                private afDatabase : AngularFireDatabase\n    ) {\n    }\n    readUrl(event:any) {\n        if (event.target.files && event.target.files[0]) {\n            var reader = new FileReader();\n\n            reader.onload = (event: ProgressEvent) => {\n                this.url = (<FileReader>event.target).result;\n            };\n\n            reader.readAsDataURL(event.target.files[0]);\n        }\n    }\n\n    // signup(position:string) {\n    //     let toast = this.toastCtrl.create({\n    //         message: 'لقد قمت بانشاء حساب جديد',\n    //         duration: 4000,\n    //         position: position\n    //     });\n    //     toast.present(toast);\n    //     this.navCtrl.setRoot(SigninPage);\n    // }\n\n\n    async register(user:User) {\n        let toast = this.toastCtrl.create({\n            message: 'لقد قمت بانشاء حساب جديد',\n            duration: 4000,\n        });\n        toast.present(toast);\n        try {\n            const result = await this.afAuth.auth.createUserWithEmailAndPassword(user.email, user.password);\n            console.error(result);\n            this.afAuth.authState.take(1).subscribe(auth => {\n                this.afDatabase.object(` profile/${auth.uid} `).set(this.profile)\n                    .then(() => this.navCtrl.setRoot('SigninPage'));\n            })\n\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/newuser/newuser.ts"],"sourceRoot":""}